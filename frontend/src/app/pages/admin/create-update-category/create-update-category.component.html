<form>
  <div class="p-2 m-3 p-lg-5 border bg-dark text-white">
    <h5 class="text-center">{{ isUpdate ? "Update" : "Create" }} Category</h5>
    <div
      *ngIf="success"
      class="alert alert-warning alert-dismissible fade show"
      role="alert"
    >
      <strong>Great</strong> {{ successMessage }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    <div
      *ngIf="error"
      class="alert alert-danger d-flex align-items-center flex-column"
      role="alert"
    >
      <span *ngFor="let error of errorMessages">
        {{ error }}
      </span>
    </div>
    <div class="row d-flex">
      <div class="col-lg-6 col-md-12 order-md-2 order-sm-2 order-lg-1">
        <div class="form-group row d-flex justify-content-center">
          <div class="col-md-8">
            <label for="name" class="text-black"
              >Name <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              [(ngModel)]="categoryItem.name"
              required
            />
          </div>
        </div>
        <div class="form-group row d-flex justify-content-center mt-2">
          <div class="col-md-8">
            <label for="code" class="text-black"
              >Code <span class="text-danger">*</span></label
            >
            <select
              class="form-select"
              id="floatingSelect"
              aria-label="Floating label select example"
              required
              name="code"
              [(ngModel)]="categoryItem.code"
            >
              <option selected disabled value="">Choose...</option>
              <option value="ACC">Accommodation</option>
              <option value="FLI">Flight</option>
              <option value="HOT">Hotel</option>
              <option value="CAR">Car Rental</option>
            </select>
          </div>
        </div>
        <div class="form-group row d-flex justify-content-center mt-2">
          <div class="col-md-8">
            <label for="icon" class="text-black">Icon </label>
            <input
              class="form-control"
              type="file"
              id="icon"
              name="icon"
              (change)="onFileSelected($event)"
              [(ngModel)]="categoryItem.icon"
              value="{{ isUpdate ? '' : '' }}"
            />
          </div>
        </div>
        <div class="form-group row d-flex justify-content-center mt-2">
          <div class="col-md-8">
            <label for="description" class="text-black">Description </label>
            <textarea
              id="description"
              [(ngModel)]="categoryItem.description"
              name="description"
              cols="30"
              rows="3"
              class="form-control"
            ></textarea>
          </div>
        </div>
        <div class="form-group">
          <div class="d-flex justify-content-center p-3">
            <button
              type="submit"
              class="btn btn-secondary"
              (click)="handleSubmit()"
            >
              {{ isUpdate ? "Update" : "Create" }}
            </button>
          </div>
        </div>
        <div class="text-center">
          <a href="" class="btn text-white" [routerLink]="['/dashboard/']"
            >Go Home</a
          >
        </div>
      </div>
      <div class="col-lg-6 col-md-12 order-md-1 border m-auto p-5"
        *ngIf="categoryItem.icon?.url"
      >
        <div class="d-flex justify-content-center">
          <img [src]="categoryItem.icon.url" width="500px" />
        </div>
      </div>

    </div>
  </div>
</form>
